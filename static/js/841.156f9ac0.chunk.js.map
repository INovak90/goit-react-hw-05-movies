{"version":3,"file":"static/js/841.156f9ac0.chunk.js","mappings":"+SAGAA,EAAAA,EAAAA,SAAAA,QAAyB,6BACzB,IAAMC,EAAU,2CAEHC,EAAiB,mCAAG,oGACRF,EAAAA,EAAAA,IAAA,8BAAiCC,IADzB,cACzBE,EADyB,yBAExBA,EAASC,KAAKC,SAFU,2CAAH,qDAKjBC,EAAqB,mCAAG,WAAMC,GAAN,uFACZP,EAAAA,EAAAA,IAAA,0BACFC,EADE,iCAC8BM,EAD9B,gCADY,cAC7BJ,EAD6B,yBAI5BA,EAASC,KAAKC,SAJc,2CAAH,sDAOrBG,EAAY,mCAAG,WAAMC,GAAN,uFACHT,EAAAA,EAAAA,IAAA,kBACVS,EADU,oBACIR,EADJ,2BADG,cACpBE,EADoB,yBAInBA,EAASC,KAAKC,SAJK,2CAAH,sDAMZK,EAAY,mCAAG,WAAMD,GAAN,uFACHT,EAAAA,EAAAA,IAAA,kBAAqBS,EAArB,YAA2BR,EAA3B,oBADG,cACpBE,EADoB,yBAEnBA,EAASC,MAFU,2CAAH,sDAKZO,EAAS,mCAAG,WAAMF,GAAN,uFACAT,EAAAA,EAAAA,IAAA,kBACVS,EADU,oBACIR,EADJ,oBADA,cACjBE,EADiB,yBAIhBA,EAASC,KAAKQ,MAJE,2CAAH,qD,sIC5BtB,EAAkC,iCAAlC,EAAkF,8BAAlF,EAA+H,8BAA/H,EAA6K,+B,SCkD7K,EA9CgB,WACd,IAAQC,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA8BE,EAAAA,EAAAA,UAAS,IAAvC,eAAOC,EAAP,KAAgBC,EAAhB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACMC,GAAcC,EAAAA,EAAAA,SAAO,GAsB3B,OApBAC,EAAAA,EAAAA,YAAU,WAAM,wCACd,gGAEST,EAFT,qDAKQO,EAAYG,QALpB,gBAMMH,EAAYG,SAAU,EAN5B,8BAQMJ,GAAa,GARnB,WAS6BX,EAAAA,EAAAA,IAAaK,GAT1C,QASYV,EATZ,OAUMc,EAAWd,GACXgB,GAAa,GAXnB,0DAcIK,QAAQC,IAAR,MAdJ,2DADc,uBAAC,WAAD,wBAkBdC,EACD,GAAE,CAACb,KAEF,oBAASc,UAAWC,EAApB,UACE,gBAAID,UAAWC,EAAf,UACGZ,EAAQa,OAAS,GAChBb,EAAQc,KAAI,SAAAC,GACV,OACE,gBAAoBJ,UAAWC,EAA/B,WACE,eAAID,UAAWC,EAAf,SAAsCG,EAAOC,UAC7C,uBAAID,EAAOE,YAFJF,EAAOtB,GAKnB,IACFO,IAAY,KAAOE,IAClB,0EAKT,C","sources":["components/Api.js","webpack://react-homework-template/./src/components/Reviews.module.css?0159","components/Reviews.js"],"sourcesContent":["import axios from 'axios';\n\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\nconst API_Key = 'api_key=826a06ffcfa9fc5eee1fcd68c442c531';\n\nexport const FetchPopularFilms = async () => {\n  const response = await axios.get(`/3/trending/all/day?${API_Key}`);\n  return response.data.results;\n};\n\nexport const FetchSearchQueryFilms = async query => {\n  const response = await axios.get(\n    `/3/search/movie?${API_Key}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n  return response.data.results;\n};\n\nexport const FetchReviews = async id => {\n  const response = await axios.get(\n    `3/movie/${id}/reviews?${API_Key}&language=en-US&page=1`\n  );\n  return response.data.results;\n};\nexport const FetchDetails = async id => {\n  const response = await axios.get(`3/movie/${id}?${API_Key}&language=en-US`);\n  return response.data;\n};\n\nexport const FetchCast = async id => {\n  const response = await axios.get(\n    `3/movie/${id}/credits?${API_Key}&language=en-US`\n  );\n  return response.data.cast;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"section-reviews\":\"Reviews_section-reviews__BSkFT\",\"reviews-list\":\"Reviews_reviews-list__L21o1\",\"reviews-item\":\"Reviews_reviews-item__N43jR\",\"reviews-title\":\"Reviews_reviews-title__54k+-\"};","import { useEffect, useRef, useState } from 'react';\nimport { useParams } from 'react-router-dom';\nimport { FetchReviews } from './Api';\nimport css from './Reviews.module.css';\n\nconst Reviews = () => {\n  const { movieId } = useParams();\n  const [reviews, setReviews] = useState([]);\n  const [isLoading, setIsLoading] = useState(false);\n  const firstUpdate = useRef(true);\n\n  useEffect(() => {\n    async function FetchData() {\n      try {\n        if (!movieId) {\n          return;\n        }\n        if (firstUpdate.current) {\n          firstUpdate.current = false;\n        } else {\n          setIsLoading(true);\n          const response = await FetchReviews(movieId);\n          setReviews(response);\n          setIsLoading(false);\n        }\n      } catch (error) {\n        console.log(error);\n      }\n    }\n    FetchData();\n  }, [movieId]);\n  return (\n    <section className={css['section-reviews']}>\n      <ul className={css['reviews-list']}>\n        {reviews.length > 0 &&\n          reviews.map(review => {\n            return (\n              <li key={review.id} className={css['reviews-item']}>\n                <h2 className={css['reviews-title']}>{review.author}</h2>\n                <p>{review.content}</p>\n              </li>\n            );\n          })}\n        {reviews === [] && !isLoading && (\n          <p>We don`t have any reviews from this movie.</p>\n        )}\n      </ul>\n    </section>\n  );\n};\n\nexport default Reviews;\n"],"names":["axios","API_Key","FetchPopularFilms","response","data","results","FetchSearchQueryFilms","query","FetchReviews","id","FetchDetails","FetchCast","cast","movieId","useParams","useState","reviews","setReviews","isLoading","setIsLoading","firstUpdate","useRef","useEffect","current","console","log","FetchData","className","css","length","map","review","author","content"],"sourceRoot":""}