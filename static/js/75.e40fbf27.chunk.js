"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[75],{75:function(e,t,r){r.r(t),r.d(t,{default:function(){return w}});var n=r(861),a=r(439),s=r(757),o=r.n(s),c=r(242),i=r(791),u=r(87),l=r(689),p=r(0),f=r(596),h=r(691),m="Movies_movies__4BwUZ",v="Movies_form__gVl+9",d="Movies_search__8ZGIL",g="Movies_input__mpzwV",x="Movies_back__48yIy",_=r(322),b=r(184),w=function(){var e,t=(0,u.lr)(""),r=(0,a.Z)(t,2),s=r[0],w=r[1],k=(0,i.useState)(null),Z=(0,a.Z)(k,2),j=Z[0],y=Z[1],S=(0,i.useState)(!1),C=(0,a.Z)(S,2),q=C[0],N=C[1],H=(0,i.useState)(!1),U=(0,a.Z)(H,2),L=U[0],M=U[1],O=null!==(e=s.get("query"))&&void 0!==e?e:"",B=(0,l.TH)(),A=(0,l.s0)();return(0,i.useEffect)((function(){function e(){return(e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,q){e.next=3;break}return e.abrupt("return");case 3:return M(!0),e.next=6,(0,c.gj)(O);case 6:if(t=e.sent,y(t),0!==t.length){e.next=11;break}return A("/movies",{replace:!0}),e.abrupt("return",f.Am.error("Nothing was found according to your request !",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}));case 11:M(!1),e.next=18;break;case 14:e.prev=14,e.t0=e.catch(0),A("/",{replace:!0}),f.Am.error("Something went wrong, please reload the page.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});case 18:return e.prev=18,M(!1),N(!1),e.finish(18);case 22:case"end":return e.stop()}}),e,null,[[0,14,18,22]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[A,O,q]),(0,b.jsx)(b.Fragment,{children:(0,b.jsxs)("section",{className:m,children:[(0,b.jsxs)(u.rU,{to:"/",className:x,children:[(0,b.jsx)(p.k2h,{}),"Go back"]}),(0,b.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),N(!0),""===O.trim())return(0,f.Am)("Your request is bad!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});y(null)},className:v,children:[(0,b.jsx)("label",{children:(0,b.jsx)("input",{onChange:function(e){if(""===e.target.value)return w({});w({query:e.target.value})},className:g,value:O,name:"query",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"})}),(0,b.jsxs)("button",{type:"submit","aria-label":"search",className:d,children:[(0,b.jsx)(p.Vph,{}),"Search"]})]}),(0,b.jsxs)("ul",{className:_.Z["movie-list"],children:[L&&(0,b.jsx)(h.NB,{visible:!0,height:"80",width:"80",ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]}),j&&j.map((function(e){return(0,b.jsx)("li",{className:_.Z["movie-item"],children:(0,b.jsx)(u.rU,{className:_.Z["movie-text"],to:"".concat(e.id),state:{from:B},children:(0,b.jsx)("p",{children:e.title})})},e.id)}))]}),(0,b.jsx)(i.Suspense,{fallback:(0,b.jsx)("div",{children:"Loading..."}),children:(0,b.jsx)(l.j3,{})})]})})}},242:function(e,t,r){r.d(t,{$4:function(){return p},Rl:function(){return l},Sn:function(){return i},gj:function(){return u},rc:function(){return f}});var n=r(861),a=r(757),s=r.n(a),o=r(243);o.Z.defaults.baseURL="https://api.themoviedb.org";var c="api_key=826a06ffcfa9fc5eee1fcd68c442c531",i=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/3/trending/all/day?".concat(c));case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/3/search/movie?".concat(c,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"));case 2:return r=e.sent,e.abrupt("return",r.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("3/movie/".concat(t,"/reviews?").concat(c,"&language=en-US&page=1"));case 2:return r=e.sent,e.abrupt("return",r.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("3/movie/".concat(t,"?").concat(c,"&language=en-US"));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("3/movie/".concat(t,"/credits?").concat(c,"&language=en-US"));case 2:return r=e.sent,e.abrupt("return",r.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},322:function(e,t){t.Z={home:"Home_home__MJf3q","movie-list":"Home_movie-list__qY9tE","movie-item":"Home_movie-item__vAgSV","movie-title":"Home_movie-title__RLqJL","movie-text":"Home_movie-text__qh5Kf"}}}]);
//# sourceMappingURL=75.e40fbf27.chunk.js.map