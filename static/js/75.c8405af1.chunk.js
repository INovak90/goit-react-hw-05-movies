"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[75],{6075:function(e,t,r){r.r(t),r.d(t,{default:function(){return w}});var n=r(5861),a=r(9439),s=r(7757),o=r.n(s),i=r(6242),c=r(2791),u=r(1087),l=r(7689),p=r(9e3),f=r(7596),h=r(4691),m="Movies_movies__4BwUZ",v="Movies_form__gVl+9",d="Movies_search__8ZGIL",g="Movies_input__mpzwV",x=r(2322),b=r(6572),_=r(184),w=function(){var e,t=(0,u.lr)(""),r=(0,a.Z)(t,2),s=r[0],w=r[1],k=(0,c.useState)(null),Z=(0,a.Z)(k,2),j=Z[0],y=Z[1],S=(0,c.useState)(!1),C=(0,a.Z)(S,2),q=C[0],H=C[1],N=(0,c.useState)(!0),U=(0,a.Z)(N,2),L=U[0],O=U[1],B=null!==(e=s.get("query"))&&void 0!==e?e:"",M=(0,l.TH)(),A=(0,l.s0)();return(0,c.useEffect)((function(){function e(){return(e=(0,n.Z)(o().mark((function e(){var t;return o().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,L){e.next=3;break}return e.abrupt("return");case 3:if(""===B){e.next=12;break}return H(!0),e.next=7,(0,i.gj)(B);case 7:if(t=e.sent,y(t),0!==t.length){e.next=12;break}return A("/movies",{replace:!0}),e.abrupt("return",f.Am.error("Nothing was found according to your request !",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"}));case 12:H(!1),e.next=19;break;case 15:e.prev=15,e.t0=e.catch(0),A("/",{replace:!0}),f.Am.error("Something went wrong, please reload the page.",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});case 19:return e.prev=19,H(!1),O(!1),e.finish(19);case 23:case"end":return e.stop()}}),e,null,[[0,15,19,23]])})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[A,B,L]),(0,_.jsx)(_.Fragment,{children:(0,_.jsxs)("section",{className:m,children:[(0,_.jsx)(b.Z,{location:"/"}),(0,_.jsxs)("form",{onSubmit:function(e){if(e.preventDefault(),""===B.trim())return(0,f.Am)("Your request is bad!",{position:"top-right",autoClose:5e3,hideProgressBar:!1,closeOnClick:!0,pauseOnHover:!0,draggable:!0,progress:void 0,theme:"light"});O(!0)},className:v,children:[(0,_.jsx)("label",{children:(0,_.jsx)("input",{onChange:function(e){if(""===e.target.value)return w({});O(!1),w({query:e.target.value})},className:g,value:B,name:"query",type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search movies"})}),(0,_.jsxs)("button",{type:"submit","aria-label":"search",className:d,children:[(0,_.jsx)(p.Vph,{}),"Search"]})]}),(0,_.jsxs)("ul",{className:x.Z["movie-list"],children:[q&&(0,_.jsx)(h.NB,{visible:!0,height:"80",width:"80",ariaLabel:"blocks-loading",wrapperStyle:{},wrapperClass:"blocks-wrapper",colors:["#e15b64","#f47e60","#f8b26a","#abbd81","#849b87"]}),j&&j.map((function(e){return(0,_.jsx)("li",{className:x.Z["movie-item"],children:(0,_.jsx)(u.rU,{className:x.Z["movie-text"],to:"".concat(e.id),state:{from:M},children:(0,_.jsx)("p",{children:e.title})})},e.id)}))]}),(0,_.jsx)(c.Suspense,{fallback:(0,_.jsx)("div",{children:"Loading..."}),children:(0,_.jsx)(l.j3,{})})]})})}},6242:function(e,t,r){r.d(t,{$4:function(){return p},Rl:function(){return l},Sn:function(){return c},gj:function(){return u},rc:function(){return f}});var n=r(5861),a=r(7757),s=r.n(a),o=r(1243);o.Z.defaults.baseURL="https://api.themoviedb.org";var i="api_key=826a06ffcfa9fc5eee1fcd68c442c531",c=function(){var e=(0,n.Z)(s().mark((function e(){var t;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("https://api.themoviedb.org/3/trending/all/day?".concat(i));case 2:return t=e.sent,e.abrupt("return",t.data.results);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("/3/search/movie?".concat(i,"&language=en-US&query=").concat(t,"&page=1&include_adult=false"));case 2:return r=e.sent,e.abrupt("return",r.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),l=function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("3/movie/".concat(t,"/reviews?").concat(i,"&language=en-US&page=1"));case 2:return r=e.sent,e.abrupt("return",r.data.results);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),p=function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("3/movie/".concat(t,"?").concat(i,"&language=en-US"));case 2:return r=e.sent,e.abrupt("return",r.data);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,n.Z)(s().mark((function e(t){var r;return s().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.Z.get("3/movie/".concat(t,"/credits?").concat(i,"&language=en-US"));case 2:return r=e.sent,e.abrupt("return",r.data.cast);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},2322:function(e,t){t.Z={home:"Home_home__MJf3q","movie-list":"Home_movie-list__qY9tE","movie-item":"Home_movie-item__vAgSV","movie-title":"Home_movie-title__RLqJL","movie-text":"Home_movie-text__qh5Kf"}}}]);
//# sourceMappingURL=75.c8405af1.chunk.js.map