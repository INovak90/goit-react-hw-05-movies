{"version":3,"file":"static/js/75.e40fbf27.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/Pages/Movies/Movies.module.css?d262","Pages/Movies/Movies.js","components/Api.js","webpack://react-homework-template/./src/Pages/Home/Home.module.css?51fa"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"movies\":\"Movies_movies__4BwUZ\",\"form\":\"Movies_form__gVl+9\",\"search\":\"Movies_search__8ZGIL\",\"input\":\"Movies_input__mpzwV\",\"back\":\"Movies_back__48yIy\"};","import { FetchSearchQueryFilms } from 'components/Api';\nimport { useState, useEffect, Suspense } from 'react';\nimport {\n  Link,\n  Outlet,\n  useSearchParams,\n  useLocation,\n  useNavigate,\n} from 'react-router-dom';\nimport { FcSearch, FcUndo } from 'react-icons/fc';\nimport { toast } from 'react-toastify';\nimport { ColorRing } from 'react-loader-spinner';\nimport 'react-toastify/dist/ReactToastify.css';\nimport css from './Movies.module.css';\nimport styled from '../Home/Home.module.css';\n\nconst Movies = () => {\n  const [searchParams, setSearchParams] = useSearchParams('');\n\n  const [movies, setMovies] = useState(null);\n  const [submit, setSubmit] = useState(false);\n  const [isLoading, setIsLoading] = useState(false);\n  const query = searchParams.get('query') ?? '';\n  const location = useLocation();\n  const navigate = useNavigate();\n\n  const updateQueryString = e => {\n    if (e.target.value === '') {\n      return setSearchParams({});\n    }\n\n    setSearchParams({ query: e.target.value });\n  };\n\n  const onSubmitForm = e => {\n    e.preventDefault();\n    setSubmit(true);\n    if (query.trim() === '') {\n      return toast('Your request is bad!', {\n        position: 'top-right',\n        autoClose: 5000,\n        hideProgressBar: false,\n        closeOnClick: true,\n        pauseOnHover: true,\n        draggable: true,\n        progress: undefined,\n        theme: 'light',\n      });\n    }\n    setMovies(null);\n  };\n  useEffect(() => {\n    async function FetchData() {\n      try {\n        if (!submit) {\n          return;\n        }\n        setIsLoading(true);\n        const response = await FetchSearchQueryFilms(query);\n        setMovies(response);\n        if (response.length === 0) {\n          navigate('/movies', { replace: true });\n          return toast.error('Nothing was found according to your request !', {\n            position: 'top-right',\n            autoClose: 5000,\n            hideProgressBar: false,\n            closeOnClick: true,\n            pauseOnHover: true,\n            draggable: true,\n            progress: undefined,\n            theme: 'light',\n          });\n        }\n        setIsLoading(false);\n      } catch (error) {\n        navigate('/', { replace: true });\n        toast.error('Something went wrong, please reload the page.', {\n          position: 'top-right',\n          autoClose: 5000,\n          hideProgressBar: false,\n          closeOnClick: true,\n          pauseOnHover: true,\n          draggable: true,\n          progress: undefined,\n          theme: 'light',\n        });\n      } finally {\n        setIsLoading(false);\n        setSubmit(false);\n      }\n    }\n    FetchData();\n  }, [navigate, query, submit]);\n  return (\n    <>\n      <section className={css.movies}>\n        <Link to=\"/\" className={css.back}>\n          <FcUndo />\n          Go back\n        </Link>\n        <form onSubmit={onSubmitForm} className={css.form}>\n          <label>\n            <input\n              onChange={updateQueryString}\n              className={css.input}\n              value={query}\n              name=\"query\"\n              type=\"text\"\n              autoComplete=\"off\"\n              autoFocus\n              placeholder=\"Search movies\"\n            />\n          </label>\n          <button type=\"submit\" aria-label=\"search\" className={css.search}>\n            <FcSearch />\n            Search\n          </button>\n        </form>\n\n        <ul className={styled['movie-list']}>\n          {isLoading && (\n            <ColorRing\n              visible={true}\n              height=\"80\"\n              width=\"80\"\n              ariaLabel=\"blocks-loading\"\n              wrapperStyle={{}}\n              wrapperClass=\"blocks-wrapper\"\n              colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n            />\n          )}\n          {movies &&\n            movies.map(movie => (\n              <li key={movie.id} className={styled['movie-item']}>\n                <Link\n                  className={styled['movie-text']}\n                  to={`${movie.id}`}\n                  state={{ from: location }}\n                >\n                  <p>{movie.title}</p>\n                </Link>\n              </li>\n            ))}\n        </ul>\n        <Suspense fallback={<div>Loading...</div>}>\n          <Outlet />\n        </Suspense>\n      </section>\n    </>\n  );\n};\n\nexport default Movies;\n","import axios from 'axios';\n\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\nconst API_Key = 'api_key=826a06ffcfa9fc5eee1fcd68c442c531';\n\nexport const FetchPopularFilms = async () => {\n  const response = await axios.get(`/3/trending/all/day?${API_Key}`);\n  return response.data.results;\n};\n\nexport const FetchSearchQueryFilms = async query => {\n  const response = await axios.get(\n    `/3/search/movie?${API_Key}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n  return response.data.results;\n};\n\nexport const FetchReviews = async id => {\n  const response = await axios.get(\n    `3/movie/${id}/reviews?${API_Key}&language=en-US&page=1`\n  );\n  return response.data.results;\n};\nexport const FetchDetails = async id => {\n  const response = await axios.get(`3/movie/${id}?${API_Key}&language=en-US`);\n  return response.data;\n};\n\nexport const FetchCast = async id => {\n  const response = await axios.get(\n    `3/movie/${id}/credits?${API_Key}&language=en-US`\n  );\n  return response.data.cast;\n};\n","// extracted by mini-css-extract-plugin\nexport default {\"home\":\"Home_home__MJf3q\",\"movie-list\":\"Home_movie-list__qY9tE\",\"movie-item\":\"Home_movie-item__vAgSV\",\"movie-title\":\"Home_movie-title__RLqJL\",\"movie-text\":\"Home_movie-text__qh5Kf\"};"],"names":["useSearchParams","searchParams","setSearchParams","useState","movies","setMovies","submit","setSubmit","isLoading","setIsLoading","query","get","location","useLocation","navigate","useNavigate","useEffect","FetchSearchQueryFilms","response","length","replace","toast","position","autoClose","hideProgressBar","closeOnClick","pauseOnHover","draggable","progress","undefined","theme","FetchData","className","css","to","onSubmit","e","preventDefault","trim","onChange","target","value","name","type","autoComplete","autoFocus","placeholder","styled","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","map","movie","id","state","from","title","Suspense","fallback","axios","API_Key","FetchPopularFilms","data","results","FetchReviews","FetchDetails","FetchCast","cast"],"sourceRoot":""}