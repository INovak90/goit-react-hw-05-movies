{"version":3,"file":"static/js/968.9bbe27ac.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/Pages/Details/MovieDetails.module.css?f335","Pages/Details/MovieDetails.js","components/Api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"details\":\"MovieDetails_details__ylthu\",\"image\":\"MovieDetails_image__bYwQu\",\"box-details\":\"MovieDetails_box-details__sZOyB\",\"about-movies\":\"MovieDetails_about-movies__QX6KQ\",\"about-list\":\"MovieDetails_about-list__bLGIf\",\"cast\":\"MovieDetails_cast__mSTVC\",\"active\":\"MovieDetails_active__hveOO\",\"box-info\":\"MovieDetails_box-info__+9WY9\",\"back\":\"MovieDetails_back__kxJ-c\"};","import { Link, Outlet, useLocation } from 'react-router-dom';\nimport { useParams } from 'react-router-dom';\nimport { useState, useEffect, useRef } from 'react';\nimport { FcUndo } from 'react-icons/fc';\nimport { FetchDetails } from '../../components/Api';\nimport { Suspense } from 'react';\nimport { ColorRing } from 'react-loader-spinner';\nimport placeHolder from '../../image/placeholder.jpg';\nimport css from './MovieDetails.module.css';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [moviesDetails, setMoviesDetails] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n  \n  const currentLocation = useLocation();\n  const location = useRef(currentLocation.state);\n  useEffect(() => {\n    async function FetchData() {\n      try {\n        if (!movieId) {\n          return;\n        }\n        setIsLoading(true);\n        const response = await FetchDetails(movieId);\n        setMoviesDetails(response);\n        setIsLoading(false);\n      } catch (error) {\n        setError(\n          'Sorry something went wrong, please reload the page, or go back.'\n        );\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    FetchData();\n  }, [movieId]);\n\n  return (\n    <>\n      <section className={css.details}>\n        {isLoading && (\n          <ColorRing\n            visible={true}\n            height=\"80\"\n            width=\"80\"\n            ariaLabel=\"blocks-loading\"\n            wrapperStyle={{}}\n            wrapperClass=\"blocks-wrapper\"\n            colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n          />\n        )}\n        <Link to={location.current.from} className={css.back}>\n          <FcUndo />\n          Go back\n        </Link>\n        {moviesDetails ? (\n          <div className={css['box-details']}>\n            {!moviesDetails.poster_path ? (\n              <img className={css.image} src={placeHolder} alt=\"placeHolder\" />\n            ) : (\n              <img\n                className={css.image}\n                src={`https://image.tmdb.org/t/p/w500${moviesDetails.poster_path}`}\n                alt=\"backdrop_path\"\n              />\n            )}\n\n            <div className={css['box-info']}>\n              <h1>{moviesDetails.original_title}</h1>\n              <p>User Score: {Math.round(moviesDetails.vote_average * 10)}%</p>\n              <h2>Overview</h2>\n              <p>{moviesDetails.overview}</p>\n              <h2>Genres</h2>\n              <p>{moviesDetails.genres.map(genre => genre.name).join(' ')}</p>\n            </div>\n          </div>\n        ) : (\n          <p>{error}</p>\n        )}\n      </section>\n\n      <section className={css['about-movies']}>\n        <h2>Additional information</h2>\n        <ul className={css['about-list']}>\n          <li>\n            <Link\n              to=\"cast\"\n              className={`${\n                currentLocation.pathname.includes('cast')\n                  ? css.active\n                  : css.cast\n              }`}\n              // state={{ from: location.current }}\n            >\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link\n              to=\"reviews\"\n              className={`${\n                currentLocation.pathname.includes('reviews')\n                  ? css.active\n                  : css.cast\n              }`}\n              // state={{ from: location.current }}\n            >\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </section>\n      <Suspense\n        fallback={\n          <div>\n            <ColorRing\n              visible={true}\n              height=\"80\"\n              width=\"80\"\n              ariaLabel=\"blocks-loading\"\n              wrapperStyle={{}}\n              wrapperClass=\"blocks-wrapper\"\n              colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n            />\n          </div>\n        }\n      >\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\nconst API_Key = 'api_key=826a06ffcfa9fc5eee1fcd68c442c531';\n\nexport const FetchPopularFilms = async () => {\n  const response = await axios.get(`/3/trending/all/day?${API_Key}`);\n  return response.data.results;\n};\n\nexport const FetchSearchQueryFilms = async query => {\n  const response = await axios.get(\n    `/3/search/movie?${API_Key}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n  return response.data.results;\n};\n\nexport const FetchReviews = async id => {\n  const response = await axios.get(\n    `3/movie/${id}/reviews?${API_Key}&language=en-US&page=1`\n  );\n  return response.data.results;\n};\nexport const FetchDetails = async id => {\n  const response = await axios.get(`3/movie/${id}?${API_Key}&language=en-US`);\n  return response.data;\n};\n\nexport const FetchCast = async id => {\n  const response = await axios.get(\n    `3/movie/${id}/credits?${API_Key}&language=en-US`\n  );\n  return response.data.cast;\n};\n"],"names":["movieId","useParams","useState","moviesDetails","setMoviesDetails","isLoading","setIsLoading","error","setError","currentLocation","useLocation","location","useRef","state","useEffect","FetchDetails","response","FetchData","className","css","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","to","current","from","poster_path","src","alt","placeHolder","original_title","Math","round","vote_average","overview","genres","map","genre","name","join","pathname","includes","Suspense","fallback","axios","API_Key","FetchPopularFilms","data","results","FetchSearchQueryFilms","query","FetchReviews","id","FetchCast","cast"],"sourceRoot":""}