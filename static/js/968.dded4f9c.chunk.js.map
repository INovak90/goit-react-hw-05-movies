{"version":3,"file":"static/js/968.dded4f9c.chunk.js","mappings":"2RACA,EAA0B,8BAA1B,EAAgE,4BAAhE,EAA0G,kCAA1G,EAA2J,mCAA3J,EAA2M,iCAA3M,EAAmP,2BAAnP,EAAuR,6BAAvR,EAA+T,+B,mBCoI/T,EA1HqB,WACnB,IAAQA,GAAYC,EAAAA,EAAAA,MAAZD,QACR,GAA0CE,EAAAA,EAAAA,UAAS,MAAnD,eAAOC,EAAP,KAAsBC,EAAtB,KACA,GAAkCF,EAAAA,EAAAA,WAAS,GAA3C,eAAOG,EAAP,KAAkBC,EAAlB,KACA,GAA0BJ,EAAAA,EAAAA,UAAS,MAAnC,eAAOK,EAAP,KAAcC,EAAd,KAEMC,GAAkBC,EAAAA,EAAAA,MAuBxB,OArBAC,EAAAA,EAAAA,YAAU,WAAM,wCACd,gGAESX,EAFT,wDAKIM,GAAa,GALjB,UAM2BM,EAAAA,EAAAA,IAAaZ,GANxC,OAMUa,EANV,OAOIT,EAAiBS,GACjBP,GAAa,GARjB,kDAUIE,EACE,mEAXN,yBAcIF,GAAa,GAdjB,8EADc,uBAAC,WAAD,wBAkBdQ,EACD,GAAE,CAACd,KAGF,iCACE,qBAASe,UAAWC,EAApB,UACGX,IACC,SAAC,KAAD,CACEY,SAAS,EACTC,OAAO,KACPC,MAAM,KACNC,UAAU,iBACVC,aAAc,CAAC,EACfC,aAAa,iBACbC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,cAGzD,SAACC,EAAA,EAAD,CAAMC,SAAUhB,EAAgBiB,MAAMC,OACrCxB,GACC,iBAAKY,UAAWC,EAAhB,UACIb,EAAcyB,aAGd,gBACEb,UAAWC,EACXa,IAAG,yCAAoC1B,EAAcyB,aACrDE,IAAI,mBALN,gBAAKf,UAAWC,EAAWa,IAAKE,EAAaD,IAAI,iBASnD,iBAAKf,UAAWC,EAAhB,WACE,wBAAKb,EAAc6B,kBACnB,wCAAgBC,KAAKC,MAAmC,GAA7B/B,EAAcgC,cAAzC,QACA,sCACA,uBAAIhC,EAAciC,YAClB,oCACA,uBAAIjC,EAAckC,OAAOC,KAAI,SAAAC,GAAK,OAAIA,EAAMC,IAAV,IAAgBC,KAAK,cAI3D,uBAAIlC,QAIR,qBAASQ,UAAWC,EAApB,WACE,oDACA,gBAAID,UAAWC,EAAf,WACE,yBACE,SAAC,KAAD,CACE0B,GAAG,OACH3B,UAAS,UACPN,EAAgBkC,SAASC,SAAS,QAC9B5B,EACAA,GAENU,MAAO,CAAEC,KAAMlB,EAAgBiB,MAAMC,MAPvC,qBAYF,yBACE,SAAC,KAAD,CACEe,GAAG,UACH3B,UAAS,UACPN,EAAgBkC,SAASC,SAAS,WAC9B5B,EACAA,GAENU,MAAO,CAAEC,KAAMlB,EAAgBiB,MAAMC,MAPvC,8BAcN,SAAC,EAAAkB,SAAD,CACEC,UACE,0BACE,SAAC,KAAD,CACE7B,SAAS,EACTC,OAAO,KACPC,MAAM,KACNC,UAAU,iBACVC,aAAc,CAAC,EACfC,aAAa,iBACbC,OAAQ,CAAC,UAAW,UAAW,UAAW,UAAW,eAV7D,UAeE,SAAC,KAAD,QAIP,C,mMCjIDwB,EAAAA,EAAAA,SAAAA,QAAyB,6BACzB,IAAMC,EAAU,2CAEHC,EAAiB,mCAAG,oGACRF,EAAAA,EAAAA,IAAA,wDAC4BC,IAFpB,cACzBnC,EADyB,yBAIxBA,EAASqC,KAAKC,SAJU,2CAAH,qDAOjBC,EAAqB,mCAAG,WAAMC,GAAN,uFACZN,EAAAA,EAAAA,IAAA,0BACFC,EADE,iCAC8BK,EAD9B,gCADY,cAC7BxC,EAD6B,yBAI5BA,EAASqC,KAAKC,SAJc,2CAAH,sDAOrBG,EAAY,mCAAG,WAAMC,GAAN,uFACHR,EAAAA,EAAAA,IAAA,kBACVQ,EADU,oBACIP,EADJ,2BADG,cACpBnC,EADoB,yBAInBA,EAASqC,KAAKC,SAJK,2CAAH,sDAMZvC,EAAY,mCAAG,WAAM2C,GAAN,uFACHR,EAAAA,EAAAA,IAAA,kBAAqBQ,EAArB,YAA2BP,EAA3B,oBADG,cACpBnC,EADoB,yBAEnBA,EAASqC,MAFU,2CAAH,sDAKZM,EAAS,mCAAG,WAAMD,GAAN,uFACAR,EAAAA,EAAAA,IAAA,kBACVQ,EADU,oBACIP,EADJ,oBADA,cACjBnC,EADiB,yBAIhBA,EAASqC,KAAKO,MAJE,2CAAH,qD","sources":["webpack://react-homework-template/./src/Pages/Details/MovieDetails.module.css?f335","Pages/Details/MovieDetails.js","components/Api.js"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"details\":\"MovieDetails_details__ylthu\",\"image\":\"MovieDetails_image__bYwQu\",\"box-details\":\"MovieDetails_box-details__sZOyB\",\"about-movies\":\"MovieDetails_about-movies__QX6KQ\",\"about-list\":\"MovieDetails_about-list__bLGIf\",\"cast\":\"MovieDetails_cast__mSTVC\",\"active\":\"MovieDetails_active__hveOO\",\"box-info\":\"MovieDetails_box-info__+9WY9\",\"back\":\"MovieDetails_back__kxJ-c\"};","import { Link, Outlet, useLocation } from 'react-router-dom';\nimport { useParams } from 'react-router-dom';\nimport { useState, useEffect } from 'react';\n\nimport { FetchDetails } from '../../components/Api';\nimport { Suspense } from 'react';\nimport { ColorRing } from 'react-loader-spinner';\nimport placeHolder from '../../image/placeholder.jpg';\nimport css from './MovieDetails.module.css';\nimport Back from 'components/Back/Back';\n\nconst MovieDetails = () => {\n  const { movieId } = useParams();\n  const [moviesDetails, setMoviesDetails] = useState(null);\n  const [isLoading, setIsLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  const currentLocation = useLocation();\n\n  useEffect(() => {\n    async function FetchData() {\n      try {\n        if (!movieId) {\n          return;\n        }\n        setIsLoading(true);\n        const response = await FetchDetails(movieId);\n        setMoviesDetails(response);\n        setIsLoading(false);\n      } catch (error) {\n        setError(\n          'Sorry something went wrong, please reload the page, or go back.'\n        );\n      } finally {\n        setIsLoading(false);\n      }\n    }\n    FetchData();\n  }, [movieId]);\n\n  return (\n    <>\n      <section className={css.details}>\n        {isLoading && (\n          <ColorRing\n            visible={true}\n            height=\"80\"\n            width=\"80\"\n            ariaLabel=\"blocks-loading\"\n            wrapperStyle={{}}\n            wrapperClass=\"blocks-wrapper\"\n            colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n          />\n        )}\n        <Back location={currentLocation.state.from} />\n        {moviesDetails ? (\n          <div className={css['box-details']}>\n            {!moviesDetails.poster_path ? (\n              <img className={css.image} src={placeHolder} alt=\"placeHolder\" />\n            ) : (\n              <img\n                className={css.image}\n                src={`https://image.tmdb.org/t/p/w500${moviesDetails.poster_path}`}\n                alt=\"backdrop_path\"\n              />\n            )}\n\n            <div className={css['box-info']}>\n              <h1>{moviesDetails.original_title}</h1>\n              <p>User Score: {Math.round(moviesDetails.vote_average * 10)}%</p>\n              <h2>Overview</h2>\n              <p>{moviesDetails.overview}</p>\n              <h2>Genres</h2>\n              <p>{moviesDetails.genres.map(genre => genre.name).join(' ')}</p>\n            </div>\n          </div>\n        ) : (\n          <p>{error}</p>\n        )}\n      </section>\n\n      <section className={css['about-movies']}>\n        <h2>Additional information</h2>\n        <ul className={css['about-list']}>\n          <li>\n            <Link\n              to=\"cast\"\n              className={`${\n                currentLocation.pathname.includes('cast')\n                  ? css.active\n                  : css.cast\n              }`}\n              state={{ from: currentLocation.state.from }}\n            >\n              Cast\n            </Link>\n          </li>\n          <li>\n            <Link\n              to=\"reviews\"\n              className={`${\n                currentLocation.pathname.includes('reviews')\n                  ? css.active\n                  : css.cast\n              }`}\n              state={{ from: currentLocation.state.from }}\n            >\n              Reviews\n            </Link>\n          </li>\n        </ul>\n      </section>\n      <Suspense\n        fallback={\n          <div>\n            <ColorRing\n              visible={true}\n              height=\"80\"\n              width=\"80\"\n              ariaLabel=\"blocks-loading\"\n              wrapperStyle={{}}\n              wrapperClass=\"blocks-wrapper\"\n              colors={['#e15b64', '#f47e60', '#f8b26a', '#abbd81', '#849b87']}\n            />\n          </div>\n        }\n      >\n        <Outlet />\n      </Suspense>\n    </>\n  );\n};\n\nexport default MovieDetails;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://api.themoviedb.org';\nconst API_Key = 'api_key=826a06ffcfa9fc5eee1fcd68c442c531';\n\nexport const FetchPopularFilms = async () => {\n  const response = await axios.get(\n    `https://api.themoviedb.org/3/trending/all/day?${API_Key}`\n  );\n  return response.data.results;\n};\n\nexport const FetchSearchQueryFilms = async query => {\n  const response = await axios.get(\n    `/3/search/movie?${API_Key}&language=en-US&query=${query}&page=1&include_adult=false`\n  );\n  return response.data.results;\n};\n\nexport const FetchReviews = async id => {\n  const response = await axios.get(\n    `3/movie/${id}/reviews?${API_Key}&language=en-US&page=1`\n  );\n  return response.data.results;\n};\nexport const FetchDetails = async id => {\n  const response = await axios.get(`3/movie/${id}?${API_Key}&language=en-US`);\n  return response.data;\n};\n\nexport const FetchCast = async id => {\n  const response = await axios.get(\n    `3/movie/${id}/credits?${API_Key}&language=en-US`\n  );\n  return response.data.cast;\n};\n"],"names":["movieId","useParams","useState","moviesDetails","setMoviesDetails","isLoading","setIsLoading","error","setError","currentLocation","useLocation","useEffect","FetchDetails","response","FetchData","className","css","visible","height","width","ariaLabel","wrapperStyle","wrapperClass","colors","Back","location","state","from","poster_path","src","alt","placeHolder","original_title","Math","round","vote_average","overview","genres","map","genre","name","join","to","pathname","includes","Suspense","fallback","axios","API_Key","FetchPopularFilms","data","results","FetchSearchQueryFilms","query","FetchReviews","id","FetchCast","cast"],"sourceRoot":""}